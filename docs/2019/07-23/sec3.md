# 3. Embedding and Extracting

ソフトウェア透かしでは2つの基本的なことを行わなければならない。

1. ソフトウェアオブジェクトに対して埋め込みを行うこと
2. それによってソフトウェアに埋め込まれたすべての透かしbitを抽出する、もしくは埋め込まれた透かしが存在するか否かを認識すること

本章では、ソフトウェア透かしの埋め込みと抽出に関するいくつかの概念について紹介する。
これらに関しては我々の以前の研究[46]ですでに述べられている。

Section 4 で取り上げる認識問題に関する議論では、抽出に関する問題についての概念が必要になるがそれらはこの論文の焦点ではない。

## 3.1. Embedding

正確さを欠いて簡単に説明するならば、ソフトウェアに透かしを埋め込むことはプログラムのコードに秘密情報を挿入することである。
この概念を以下のように、形式的に定義する。

### Definition 1. (Watermark)

透かしは長さ0以上の有限長のbit列からなるメッセージである。
すべての透かしの集合を $\bf{W}$ とする。

### Definition 2. (Embedding)

$\bf{P}$ をプログラムの集合、$\bf{W}$ を透かしの集合とする。
関数 $A: \bf{P} \times \bf{W} \longrightarrow \bf{P}$ を透かし埋め込みアルゴリズム、あるいは単に埋め込み器と呼ぶ。
ある$P \in \bf{P}$、$W \in \bf{W}$ について、$P' = A(P, W)$ は (埋め込み器 $A$ に関して) 透かし入りプログラムであると呼ばれる。
また、$P$ は $P'$ のオリジナルプログラムと呼ばれる。

本論文で定義された概念について説明するため、具体的なソフトウェア透かしアルゴリズムである QPアルゴリズム を例に上げて説明する。
