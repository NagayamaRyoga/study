# III. Embedding preformance

埋め込みパフォーマンスについて言及するとき、プロジェクトに埋め込むことの出来るbit数が重要になる。
埋め込み手法から、パフォーマンスは各関数でいくつの変数が宣言され、どれだけ多くの独立した文のグループが見つかるかという2つの要素によって決まる。

ただし、パフォーマンスを低下させる実際的な制限が存在する。その中でもっとの顕著なものは以下のとおりである。

1. ブロックの先頭に宣言された変数のみを置換する。
    しかしC++の場合、通常変数は使用される場所で宣言される。
    コンパイラレベルでこれらの変数のメモリ割り当てを変更することは可能だが、スコープと可視性に違反し、エラーに繋がる可能性があるため、ソースコード内の位置を変更することは出来ない。

2. 一見独立した文に関数呼び出しが含まれている場合、それらを並び替えることは出来ない。
    これは関数に副作用なないことを確認できないためである。
    関数に副作用が存在する場合、文の位置を変更するとエラーが発生しうる。

3. 一見独立した文に間接参照が含まれている場合、それらを並び替えることは出来ない。
    文の独立性を保証するために、ポインタと参照の内容をトレースするのは難しいからである。

後述の実験結果が示すようにこれらの制限が埋め込みパフォーマンスを大幅に低下させる。
